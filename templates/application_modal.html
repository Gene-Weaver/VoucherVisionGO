<!-- Application Details Modal -->
<div id="application-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h3>Application Details</h3>
      
      <div id="application-details" class="user-details">
        <!-- Application details will be displayed here -->
      </div>
      
      <div id="application-actions" class="action-buttons">
        <div class="form-group" id="api-key-permission-group" style="margin-bottom: 15px; display: none;">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="allow-api-keys">
            <label class="form-check-label" for="allow-api-keys">
              Allow API key creation (for programmatic access without browser authentication)
            </label>
            <div class="small text-muted">
              Only grant this to trusted users who need to automate API access
            </div>
          </div>
        </div>
        
        <button id="approve-btn" class="btn-success">Approve</button>
        <button id="reject-btn" class="btn-danger">Reject</button>
      </div>
      
      <!-- For already approved applications -->
      <div id="api-key-access-actions" style="display: none; margin-top: 15px;">
        <h4>API Key Permission</h4>
        <div class="form-group mb-3">
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="update-api-keys">
            <label class="form-check-label" for="update-api-keys">
              Allow API key creation
            </label>
          </div>
        </div>
        <button id="update-api-access-btn" class="btn-primary">Update API Key Permission</button>
      </div>
      
      <div id="rejection-form" style="display: none;" class="mt-3">
        <div class="form-group">
          <label for="rejection-reason">Reason for Rejection</label>
          <textarea id="rejection-reason" class="form-control" rows="3" placeholder="Please provide a reason for rejection"></textarea>
        </div>
        <button id="confirm-reject-btn" class="btn-danger mt-2">Confirm Rejection</button>
        <button id="cancel-reject-btn" class="btn-secondary mt-2">Cancel</button>
      </div>
      
      <div id="application-status-message" class="mt-3"></div>
    </div>
  </div>